<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>protolib: proto::RxContainer&lt; Fields, TCrc &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">protolib
   </div>
   <div id="projectbrief">C++17 library for binary protocol serialization and parsing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('df/dd6/classproto_1_1_rx_container.html','../../','d1/dee/classproto_1_1_rx_container-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">proto::RxContainer&lt; Fields, TCrc &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Incremental parser for protocol frames based on field prototypes.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>&gt;</code></p>

<p>Inherits FieldContainer&lt; Fields, CrcSoft &gt;.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-types" class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a78fac8b76ece308b2f98742421dd5b32" id="r_a78fac8b76ece308b2f98742421dd5b32"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78fac8b76ece308b2f98742421dd5b32">CallbackType</a> = std::function&lt;void(<a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">RxContainer</a>&lt;Fields, TCrc&gt;&amp;)&gt;</td></tr>
<tr class="memdesc:a78fac8b76ece308b2f98742421dd5b32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type alias for the callback invoked when a full frame is received.  <br /></td></tr>
<tr class="memitem:a84c00307f3031dc127142bac349eff3a" id="r_a84c00307f3031dc127142bac349eff3a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84c00307f3031dc127142bac349eff3a">Delegate</a> = std::shared_ptr&lt;<a class="el" href="#a78fac8b76ece308b2f98742421dd5b32">CallbackType</a>&gt;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a03bd1068d065c680d72c9c2c2cf9ebee" id="r_a03bd1068d065c680d72c9c2c2cf9ebee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03bd1068d065c680d72c9c2c2cf9ebee">RxContainer</a> ()</td></tr>
<tr class="memdesc:a03bd1068d065c680d72c9c2c2cf9ebee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html" title="Incremental parser for protocol frames based on field prototypes.">RxContainer</a> and auto-binds default matchers for standard fields.  <br /></td></tr>
<tr class="memitem:a62f66f4bc347105478aba5bffd14796f" id="r_a62f66f4bc347105478aba5bffd14796f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62f66f4bc347105478aba5bffd14796f">fill</a> (const <a class="el" href="../../d8/d30/class_custom_span.html">CustomSpan</a>&lt; uint8_t &gt; &amp;src, size_t &amp;read)</td></tr>
<tr class="memdesc:a62f66f4bc347105478aba5bffd14796f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feeds a chunk of bytes to the parser and advances internal state.  <br /></td></tr>
<tr class="memitem:a13af162783447e92a0e44e240a775deb" id="r_a13af162783447e92a0e44e240a775deb"><td class="memTemplParams" colspan="2">template&lt;size_t Index&gt; </td></tr>
<tr class="memitem:a13af162783447e92a0e44e240a775deb template"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13af162783447e92a0e44e240a775deb">fill_fields</a> (<a class="el" href="../../d8/d30/class_custom_span.html">CustomSpan</a>&lt; uint8_t &gt; &amp;ptr, size_t &amp;read) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a></td></tr>
<tr class="memdesc:a13af162783447e92a0e44e240a775deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads bytes for a specific field, validates const values and copies into the frame buffer.  <br /></td></tr>
<tr class="memitem:afa3c641aacacfbb0946d4cd58168557f" id="r_afa3c641aacacfbb0946d4cd58168557f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa3c641aacacfbb0946d4cd58168557f">get_size</a> () const -&gt; size_t</td></tr>
<tr class="memdesc:afa3c641aacacfbb0946d4cd58168557f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current DATA_FIELD size (may be dynamic).  <br /></td></tr>
<tr class="memitem:af01eab41732565aa78da59ae852f814f" id="r_af01eab41732565aa78da59ae852f814f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af01eab41732565aa78da59ae852f814f">add_receive_callback</a> (<a class="el" href="#a78fac8b76ece308b2f98742421dd5b32">CallbackType</a> callback) -&gt; <a class="el" href="#a84c00307f3031dc127142bac349eff3a">Delegate</a></td></tr>
<tr class="memdesc:af01eab41732565aa78da59ae852f814f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes to notifications when a full frame is parsed.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1b2e180fb838c06e4704724c13712107" id="r_a1b2e180fb838c06e4704724c13712107"><td class="memTemplParams" colspan="2">template&lt;typename Func, std::size_t I = 0, typename... Args&gt; </td></tr>
<tr class="memitem:a1b2e180fb838c06e4704724c13712107 template"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b2e180fb838c06e4704724c13712107">static_for_index</a> (std::size_t runtime_index, Func &amp;&amp;FUNC, Args &amp;&amp;... args) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a></td></tr>
<tr class="memdesc:a1b2e180fb838c06e4704724c13712107"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compile-time unrolled dispatcher that calls a functor for a runtime field index.  <br /></td></tr>
<tr class="memitem:a1d6da44ba10df67547d25eb435059666" id="r_a1d6da44ba10df67547d25eb435059666"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d6da44ba10df67547d25eb435059666">set_data_len</a> (void *obj) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a></td></tr>
<tr class="memdesc:a1d6da44ba10df67547d25eb435059666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts DATA_FIELD size based on LEN_FIELD and sizes of fields marked IS_IN_LEN.  <br /></td></tr>
<tr class="memitem:a88837b69f589085a0e6ae59464afbd3d" id="r_a88837b69f589085a0e6ae59464afbd3d"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88837b69f589085a0e6ae59464afbd3d">check_alen</a> (void *obj) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a></td></tr>
<tr class="memdesc:a88837b69f589085a0e6ae59464afbd3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates anti-length (ALEN) against LEN (bitwise NOT).  <br /></td></tr>
<tr class="memitem:a32164b9bb4d7aafb36c279431ae3ba83" id="r_a32164b9bb4d7aafb36c279431ae3ba83"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32164b9bb4d7aafb36c279431ae3ba83">check_crc</a> (void *obj) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a></td></tr>
<tr class="memdesc:a32164b9bb4d7aafb36c279431ae3ba83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes CRC over fields flagged IS_IN_CRC and compares it with CRC_FIELD.  <br /></td></tr>
<tr class="memitem:a58f4d018e6ad3926d73a38eb8895b18e" id="r_a58f4d018e6ad3926d73a38eb8895b18e"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58f4d018e6ad3926d73a38eb8895b18e">check_type</a> (void *obj) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a></td></tr>
<tr class="memdesc:a58f4d018e6ad3926d73a38eb8895b18e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates DATA_FIELD alternative by received TYPE_FIELD and validates its expected size.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Fields, typename TCrc = CrcSoft&gt;<br />
class proto::RxContainer&lt; Fields, TCrc &gt;</div><p>Incremental parser for protocol frames based on field prototypes. </p>
<p><a class="el" href="../../df/dd6/classproto_1_1_rx_container.html" title="Incremental parser for protocol frames based on field prototypes.">RxContainer</a> inherits FieldContainer and augments it with a small state machine that walks the field tuple in order and fills each field from the input stream. If a field completes, its matcher (if any) is invoked to validate/update container state. When all fields are matched, registered receive callbacks are invoked with a reference to the container.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
Lifecycle &amp; usage</h3>
<ol type="1">
<li>Construct an <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html" title="Incremental parser for protocol frames based on field prototypes.">RxContainer</a>. Default matchers for LEN/ALEN/CRC/TYPE are bound if present.</li>
<li>Optionally enable debug with <span class="tt">SetDebug(true)</span> on the base container.</li>
<li>Feed incoming data via <span class="tt">Fill(span, read)</span>. You may pass arbitrarily sized chunks.</li>
<li>Subscribe to completed frames via <span class="tt">AddReceiveCallback(callback)</span>.</li>
</ol>
<dl class="section warning"><dt>Warning</dt><dd>This class is not thread-safe. If used across threads/ISRs, synchronize external calls to Fill() and callbacks, or provide a single-threaded handoff buffer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00063">63</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
</div><a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Member Typedef Documentation</h2>
<a id="a78fac8b76ece308b2f98742421dd5b32" name="a78fac8b76ece308b2f98742421dd5b32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fac8b76ece308b2f98742421dd5b32">&#9670;&#160;</a></span>CallbackType</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::CallbackType = std::function&lt;void(<a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">RxContainer</a>&lt;Fields, TCrc&gt;&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type alias for the callback invoked when a full frame is received. </p>
<p>The callback receives a reference to this container so the user can inspect field values. Prefer capturing only what you need to avoid prolonging lifetimes; callbacks are stored as weak_ptr. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00072">72</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>

</div>
</div>
<a id="a84c00307f3031dc127142bac349eff3a" name="a84c00307f3031dc127142bac349eff3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c00307f3031dc127142bac349eff3a">&#9670;&#160;</a></span>Delegate</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::Delegate = std::shared_ptr&lt;<a class="el" href="#a78fac8b76ece308b2f98742421dd5b32">CallbackType</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00073">73</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>

</div>
</div>
<a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a03bd1068d065c680d72c9c2c2cf9ebee" name="a03bd1068d065c680d72c9c2c2cf9ebee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03bd1068d065c680d72c9c2c2cf9ebee">&#9670;&#160;</a></span>RxContainer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::RxContainer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html" title="Incremental parser for protocol frames based on field prototypes.">RxContainer</a> and auto-binds default matchers for standard fields. </p>
<p>If present in <code class="param">Fields</code> and the matcher is not already set, the following associations are applied:</p><ul>
<li>LEN_FIELD -&gt; SetDataLen()</li>
<li>ALEN_FIELD -&gt; CheckAlen()</li>
<li>CRC_FIELD -&gt; CheckCrc()</li>
<li>TYPE_FIELD -&gt; CheckType() Finally, the container state is Reset(). </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00087">87</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="af01eab41732565aa78da59ae852f814f" name="af01eab41732565aa78da59ae852f814f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01eab41732565aa78da59ae852f814f">&#9670;&#160;</a></span>add_receive_callback()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::add_receive_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a78fac8b76ece308b2f98742421dd5b32">CallbackType</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span></td><td>)</td>
          <td> -&gt; <a class="el" href="#a84c00307f3031dc127142bac349eff3a">Delegate</a> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscribes to notifications when a full frame is parsed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Callable of signature <span class="tt">void(<a class="el" href="../../df/dd6/classproto_1_1_rx_container.html" title="Incremental parser for protocol frames based on field prototypes.">RxContainer</a>&amp;)</span>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A shared_ptr token to keep the subscription alive. Drop it to auto-unsubscribe. @thread_safety Callbacks execute synchronously from Fill(). Avoid long-running work inside. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00565">565</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>

</div>
</div>
<a id="a88837b69f589085a0e6ae59464afbd3d" name="a88837b69f589085a0e6ae59464afbd3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88837b69f589085a0e6ae59464afbd3d">&#9670;&#160;</a></span>check_alen()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::check_alen </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td> -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates anti-length (ALEN) against LEN (bitwise NOT). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Opaque pointer to this container. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MATCH if <span class="tt">~ALEN == LEN</span>, otherwise NOT_MATCH. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00381">381</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../df/dd6/classproto_1_1_rx_container_a88837b69f589085a0e6ae59464afbd3d_icgraph.svg" width="647" height="196"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a32164b9bb4d7aafb36c279431ae3ba83" name="a32164b9bb4d7aafb36c279431ae3ba83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32164b9bb4d7aafb36c279431ae3ba83">&#9670;&#160;</a></span>check_crc()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::check_crc </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td> -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes CRC over fields flagged IS_IN_CRC and compares it with CRC_FIELD. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Opaque pointer to this container. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MATCH if the computed CRC equals the value in CRC_FIELD; NOT_MATCH otherwise.</dd></dl>
<p>@requirements TCrc must expose:</p><ul>
<li>void Reset();</li>
<li>uint32_t Append(uint32_t, Span&lt;uint8_t&gt;);</li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd>The CRC width is inferred from the CRC_FIELD storage type when pretty-printing debug values. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00423">423</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../df/dd6/classproto_1_1_rx_container_a32164b9bb4d7aafb36c279431ae3ba83_icgraph.svg" width="647" height="196"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a58f4d018e6ad3926d73a38eb8895b18e" name="a58f4d018e6ad3926d73a38eb8895b18e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f4d018e6ad3926d73a38eb8895b18e">&#9670;&#160;</a></span>check_type()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::check_type </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td> -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates DATA_FIELD alternative by received TYPE_FIELD and validates its expected size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Opaque pointer to this container. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MATCH if type is known and sizes match (or are dynamic), NOT_MATCH otherwise.</dd></dl>
<p>For data-field variants, SetId(type) selects the concrete alternative. When DATA_FIELD exposes a fixed size for the selected alternative, a mismatch is treated as a protocol error and the frame is rejected. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00482">482</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../df/dd6/classproto_1_1_rx_container_a58f4d018e6ad3926d73a38eb8895b18e_icgraph.svg" width="646" height="196"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a62f66f4bc347105478aba5bffd14796f" name="a62f66f4bc347105478aba5bffd14796f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62f66f4bc347105478aba5bffd14796f">&#9670;&#160;</a></span>fill()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::fill </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d30/class_custom_span.html">CustomSpan</a>&lt; uint8_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>read</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Feeds a chunk of bytes to the parser and advances internal state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">src</td><td>Input chunk. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">read</td><td>Number of bytes consumed from <code class="param">src</code> in the last field step.</td></tr>
  </table>
  </dd>
</dl>
<p>The method may iterate over multiple fields in a single call. If the current field mismatches, the container optionally prints a diagnostic snapshot (when debug is enabled) and resets state to start searching for the next valid frame boundary. On full frame completion, all valid callbacks are invoked (old expired ones are removed). </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00153">153</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>

</div>
</div>
<a id="a13af162783447e92a0e44e240a775deb" name="a13af162783447e92a0e44e240a775deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13af162783447e92a0e44e240a775deb">&#9670;&#160;</a></span>fill_fields()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<div class="memtemplate">
template&lt;size_t Index&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::fill_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d30/class_custom_span.html">CustomSpan</a>&lt; uint8_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>read</em></span>&#160;) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads bytes for a specific field, validates const values and copies into the frame buffer. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index</td><td>Index of the field within the tuple. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>[in,out] Remaining input span; consumed bytes are accounted via <code class="param">read</code>. </td></tr>
    <tr><td class="paramname">read</td><td>[out] Number of bytes consumed for this field step. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PROCESSING if the field is incomplete; MATCH if fully read (and matcher passed or absent); NOT_MATCH on mismatch (const value check or matcher failure).</dd></dl>
<ul>
<li>Honors <a class="el" href="../../d6/dca/namespaceproto.html#a6645a6437891bcbf7eabd7e15b68862ea642e0b6684e6165e142c074f1cd8d55c" title="Field bytes are stored in reverse order.">FieldFlags::REVERSE</a> for endianness when reading constants and storing bytes.</li>
<li>Invokes <span class="tt">matcher_</span> of the field when it completes, enabling length/type/CRC checks to run early. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00262">262</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../df/dd6/classproto_1_1_rx_container_a13af162783447e92a0e44e240a775deb_icgraph.svg" width="338" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afa3c641aacacfbb0946d4cd58168557f" name="afa3c641aacacfbb0946d4cd58168557f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa3c641aacacfbb0946d4cd58168557f">&#9670;&#160;</a></span>get_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::get_size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const -&gt; size_t </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current DATA_FIELD size (may be dynamic). </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00554">554</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../df/dd6/classproto_1_1_rx_container_afa3c641aacacfbb0946d4cd58168557f_icgraph.svg" width="343" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1d6da44ba10df67547d25eb435059666" name="a1d6da44ba10df67547d25eb435059666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6da44ba10df67547d25eb435059666">&#9670;&#160;</a></span>set_data_len()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::set_data_len </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td> -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adjusts DATA_FIELD size based on LEN_FIELD and sizes of fields marked IS_IN_LEN. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Opaque pointer to this container (provided by FillFields). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MATCH on successful adjustment/validation, NOT_MATCH if declared size disagrees.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This matcher allows DATA_FIELD to be <span class="tt">kAnySize</span> (dynamic). When DATA_FIELD has a fixed size, the method validates that LEN_FIELD matches the expected size. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00327">327</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../df/dd6/classproto_1_1_rx_container_a1d6da44ba10df67547d25eb435059666_icgraph.svg" width="647" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1b2e180fb838c06e4704724c13712107" name="a1b2e180fb838c06e4704724c13712107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2e180fb838c06e4704724c13712107">&#9670;&#160;</a></span>static_for_index()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fields, typename TCrc = CrcSoft&gt; </div>
<div class="memtemplate">
template&lt;typename Func, std::size_t I = 0, typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="../../df/dd6/classproto_1_1_rx_container.html">proto::RxContainer</a>&lt; Fields, TCrc &gt;::static_for_index </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>runtime_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Func &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>FUNC</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;) -&gt; <a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86">MatchStatus</a> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compile-time unrolled dispatcher that calls a functor for a runtime field index. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">I</td><td>Current compile-time index (do not pass explicitly). </td></tr>
    <tr><td class="paramname">Func</td><td>Callable of the form <span class="tt"><a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86" title="Status returned by matcher functions when comparing field values.">MatchStatus</a>
operator()(std::integral_constant&lt;size_t, I&gt;, Args...)</span>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">runtime_index</td><td>Index in [0, FieldContainer::size). </td></tr>
    <tr><td class="paramname">FUNC</td><td>Functor to invoke for the matching index. </td></tr>
    <tr><td class="paramname">args</td><td>Additional arguments forwarded to <code class="param">f</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/dca/namespaceproto.html#a28c50ab0ac8ac103f968294dd7dddf86" title="Status returned by matcher functions when comparing field values.">MatchStatus</a> returned by the invoked functor, or NOT_MATCH if index is out of range. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html#l00128">128</a> of file <a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../df/dd6/classproto_1_1_rx_container_a1b2e180fb838c06e4704724c13712107_icgraph.svg" width="338" height="76"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d0/d95/_rx_container_8hpp_source.html">RxContainer.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../d6/dca/namespaceproto.html">proto</a></li><li class="navelem"><a href="../../df/dd6/classproto_1_1_rx_container.html">RxContainer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
